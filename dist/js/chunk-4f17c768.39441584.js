(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f17c768"],{"0930":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pb-1"},[e.$store.state.websiteSelector.selectedWebsiteId?r("b-card",{staticClass:"mb-4 col-md-12 mx-auto",attrs:{"no-body":""}},[r("div",{staticClass:"card-header"},[r("div",[r("b-card-title",[e._v("Referral Settings")])],1)]),r("b-card-body",[r("b-form",{on:{submit:function(t){return t.preventDefault(),e.save.apply(null,arguments)}}},[r("b-row",[r("b-col",{attrs:{cols:"12"}},[r("b-form-group",{attrs:{label:"Referral Content:","label-for":"h-referral_content","label-cols-md":"12"}},[r("quill-editor",{attrs:{options:e.snowOption},model:{value:e.referral.content,callback:function(t){e.$set(e.referral,"content",t)},expression:"referral.content"}}),e._l(e.errors.content,(function(t){return r("small",{key:t,staticClass:"text-danger d-block"},[e._v(e._s(t))])}))],2)],1),r("b-col",{attrs:{cols:"12"}},[r("b-form-group",{attrs:{label:"Pay Period:","label-for":"h-referral_pay_period","label-cols-md":"1","label-cols-sm":"4","label-cols-xs":"12"}},[r("b-form-select",{staticClass:"col-xs-12 col-md-2",attrs:{id:"h-referral_pay_period",options:[{value:0,text:"Weekly"},{value:1,text:"Monthly"}]},model:{value:e.referral.pay_period,callback:function(t){e.$set(e.referral,"pay_period",t)},expression:"referral.pay_period"}}),e._l(e.errors.pay_period,(function(t){return r("small",{key:t,staticClass:"text-danger d-block"},[e._v(e._s(t))])}))],2)],1),r("b-col",{attrs:{md:"8"}},[r("b-form-group",[r("b-form-checkbox",{attrs:{id:"checkbox-is_active",name:"checkbox-is_active"},model:{value:e.referral.is_active,callback:function(t){e.$set(e.referral,"is_active",t)},expression:"referral.is_active"}},[e.referral.is_active?[e._v(" Referral Enabled ")]:[e._v(" Referral Disabled ")]],2)],1)],1),r("b-col",{attrs:{md:"8"}},[r("b-form-group",[r("b-form-checkbox",{attrs:{id:"checkbox-is_shown",name:"checkbox-is_shown"},model:{value:e.referral.is_shown,callback:function(t){e.$set(e.referral,"is_shown",t)},expression:"referral.is_shown"}},[e._v(" Show In Page Website ")])],1)],1)],1),r("b-table-simple",{attrs:{hover:"",small:"","caption-top":"",responsive:""}},[r("b-thead",[r("b-tr",[r("b-th",{attrs:{width:"20%"}},[e._v(" Game Category ")]),r("b-th",[e._v("Min Commission")]),r("b-th",[e._v("Max Commission")]),r("b-th",[e._v("Referral Level (%)")])],1)],1),r("b-tbody",e._l(e.referralSettings,(function(t){return r("b-tr",{key:t.id},[r("b-td",[e._v(" "+e._s(t.game_category.title))]),r("b-td",[r("b-form-input",{attrs:{type:"number",step:"any"},model:{value:t.min_commission,callback:function(r){e.$set(t,"min_commission",r)},expression:"setting.min_commission"}})],1),r("b-td",[r("b-form-input",{attrs:{type:"number",step:"any"},model:{value:t.max_commission,callback:function(r){e.$set(t,"max_commission",r)},expression:"setting.max_commission"}})],1),r("b-td",[r("b-form-input",{attrs:{type:"number",step:"any"},model:{value:t.referral_level,callback:function(r){e.$set(t,"referral_level",r)},expression:"setting.referral_level"}})],1)],1)})),1)],1),r("b-row",[r("b-col",{staticClass:"mt-1 text-center"},[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{disabled:e.loading||!e.canSave,type:"submit",variant:"primary"}},[e.loading?r("b-spinner",{staticClass:"mr-1",attrs:{small:""}}):e._e(),e._v(" Save ")],1)],1)],1)],1)],1)],1):r("b-card",{staticClass:"mb-0 bg-danger text-white"},[e._v(" Please select website first. ")])],1)},s=[],n=r("5530"),i=r("15fd"),o=r("1da1"),l=(r("96cf"),r("e009")),c=r("a15b7"),b=r("b28b"),d=r("11de"),u=r("1947"),f=r("8226"),m=r("4797"),p=r("01e3"),v=r("8361"),_=r("c3e6"),h=r("205f"),g=r("4968"),x=r("6197"),w=r("1eba"),y=r("0bd8"),k=r("2a2e"),S=r("a247"),B=r("0809"),C=r("6cf6"),R=(r("a753"),r("8096"),r("14e1"),r("953d")),$=["settings"],I={components:{BRow:c["a"],BCol:b["a"],BForm:d["a"],BButton:u["a"],BFormGroup:f["a"],BFormInput:m["a"],BSpinner:p["a"],BFormSelect:v["a"],BFormCheckbox:_["a"],BCard:h["a"],BCardTitle:g["a"],BCardBody:x["a"],BTableSimple:w["a"],BThead:y["a"],BTr:k["a"],BTbody:S["a"],BTd:B["a"],BTh:C["a"],quillEditor:R["quillEditor"]},directives:{Ripple:l["a"]},mixins:[],data:function(){return{loading:!1,referral:{},referralSettings:[],errors:{},snowOption:{theme:"snow"}}},computed:{canSave:function(){return!0},selectedWebsiteId:function(){return this.$store.state.websiteSelector.selectedWebsiteId}},watch:{selectedWebsiteId:function(){this.getReferralSettings()}},created:function(){this.getReferralSettings()},methods:{getReferralSettings:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.selectedWebsiteId){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.next=5,e.$http.get("api/admin/referral_settings/".concat(e.selectedWebsiteId));case 5:r=t.sent,a=r.data,s=a.settings,n=Object(i["a"])(a,$),e.referral=n,e.referralSettings=s,e.loading=!1;case 11:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,r=Object(n["a"])(Object(n["a"])({},e.referral),{},{referral_settings:e.referralSettings}),t.next=5,e.$http.post("api/admin/referral_settings/".concat(e.selectedWebsiteId),r);case 5:e.$notifySuccess("Successfully Saved Settings!"),e.errors={},t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),t.t0.response&&422===t.t0.response.status&&(e.errors=Object(n["a"])({},t.t0.response.data.errors));case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))()}}},O=I,W=(r("8e1d"),r("2877")),j=Object(W["a"])(O,a,s,!1,null,null,null);t["default"]=j.exports},"82e4":function(e,t,r){},"8e1d":function(e,t,r){"use strict";r("82e4")}}]);
//# sourceMappingURL=chunk-4f17c768.39441584.js.map